<header>
  <h1>Chitter</h1>
  <% if flash[:notice] %>
    <div id="notice">
      <%= flash[:notice] %>
    </div>
  <% end %>
  <% if flash[:errors] && !flash[:errors].empty? %>
    There are some issues...
    <ul id="errors">
      <% flash[:errors].each do |error| %>
        <li><%= error %></li>
      <% end %>
    </ul>
  <% end %>
  <% if current_user %>
    <span id="welcome">
      Welcome to Chitter <%= @current_user.name %>! Peep here...
    </span>
    <form action='/homepage' autocomplete="off" method="post">
      <textarea type="text" id="peep_box" name="message" placeholder="peep here..." maxlength="114"></textarea>
      <input type="submit" id="post_peep_button" value="Peep">
    </form>
    <form method="post" action="/sessions">
      <input type="hidden" name="_method" value="delete">
      <input type="submit" id="sign_out_button" value="Sign out">
    </form>
  <% else %>
    <a href='/sessions/new' id="sign_in_button" class='button'>Sign in</a>
    <a href='/users/new' id="sign_up_button" class='button'>Sign up</a>
  <% end %>
</header>
<ul>
  <% @peeps.reverse.each do |peep| %>
    <div id="peep_display">
      <li id="peep_text"><%= peep.message %></li>
      <li id="peep_info"><%= peep.author %> (<%= peep.username %>) | <%= peep.created %></li>
    </div>
  <% end %>

</ul>